'use client'

import { FC, useEffect } from 'react'
import Link from 'next/link'
import gsap from 'gsap'
import classNames from 'classnames'
import { useTypedSelector } from '@/hooks/use-types-selector'
import styles from '@/components/Logo/Logo.module.scss'

const Logo: FC = () => {
  const { isRolled } = useTypedSelector(state => state.logo)

  const rolledClass = isRolled && styles.rolled
  const clasess = classNames(styles.link, 'logo-link', rolledClass)

  useEffect(() => {
    let mm = gsap.matchMedia()
    
    mm.add('(min-width: 1025px)', () => {
      gsap.fromTo(`.hero-primary .${styles.link}`, .7, { y: '-105%' }, { y: 0, ease: 'Power2.easeInOut', delay: 6.5 })
      gsap.fromTo(`.inner-page .${styles.link}`, .7, { y: '-105%' }, { y: 0, ease: 'Power2.easeInOut', delay: 6.5 })
    })

    mm.add('(max-width: 1024px)', () => {
      gsap.fromTo(`.${styles.link}`, .7, { y: '-105%' }, { y: 0, ease: 'Power2.easeInOut', delay: 6.5 })
    })
  }, [])
  
  return (
    <div className={styles.logo}>
      <Link 
        className={clasess}
        href='/'
      >
        <svg className={styles.main} viewBox="0 0 347 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 7.44V-4.76837e-07L16.04 16L32.04 -4.76837e-07V32H26.76V12.88L16.04 23.56L0 7.44ZM53.8441 21.36L51.2041 26.64L48.4841 32H42.5641L58.5641 -4.76837e-07L69.2441 21.36H63.2441L58.5641 11.96L53.8441 21.36ZM71.8841 26.68L74.5641 32H68.6041L65.9641 26.68H71.8841ZM84.5531 16.68C83.3131 18.48 81.7531 19.76 79.8731 20.52L86.4331 32H80.3131L71.0331 15.96L75.7931 16C77.2331 16 78.4731 15.48 79.5131 14.44C80.5931 13.4 81.1131 12.12 81.1131 10.64C81.1131 9.2 80.5931 7.96 79.5131 6.92C78.4731 5.88 77.2331 5.36 75.7931 5.36H65.1131L64.5131 4.76L61.7531 -4.76837e-07H75.7931C78.7131 -4.76837e-07 81.2331 1.04 83.3131 3.12C85.3931 5.24 86.4331 7.72 86.4331 10.64C86.4331 12.88 85.8331 14.88 84.5531 16.68ZM109.297 16.68C108.057 18.48 106.497 19.76 104.617 20.52L111.177 32H105.057L95.7769 15.96L100.537 16C101.977 16 103.217 15.48 104.257 14.44C105.337 13.4 105.857 12.12 105.857 10.64C105.857 9.2 105.337 7.96 104.257 6.92C103.217 5.88 101.977 5.36 100.537 5.36H89.8569L89.2569 4.76L86.4969 -4.76837e-07H100.537C103.457 -4.76837e-07 105.977 1.04 108.057 3.12C110.137 5.24 111.177 7.72 111.177 10.64C111.177 12.88 110.577 14.88 109.297 16.68ZM124.647 5.28V26.64L119.327 32V-4.76837e-07L124.647 5.28ZM134.153 -4.76837e-07L143.233 11.68L139.873 16L127.312 -4.76837e-07H134.153ZM127.312 32L139.873 16L143.233 20.32L134.153 32H127.312ZM159.113 -4.76837e-07L146.633 16L143.233 11.68L152.353 -4.76837e-07H159.113ZM143.233 20.32L146.633 16L159.113 32H152.353L143.233 20.32ZM202.39 3.12C204.47 5.24 205.51 7.76 205.51 10.68C205.51 13.6 204.51 16.16 202.39 18.24C200.31 20.32 197.79 21.36 194.87 21.36H184.19V32H178.87V16H184.19H194.87C196.31 16 197.55 15.48 198.59 14.44C199.63 13.4 200.19 12.16 200.19 10.68C200.19 9.24 199.67 7.96 198.59 6.92C197.55 5.88 196.31 5.36 194.87 5.36H184.19L178.87 -4.76837e-07H194.87C197.79 -4.76837e-07 200.31 1.04 202.39 3.12ZM228.481 -4.76837e-07C232.921 -4.76837e-07 236.641 1.6 239.761 4.72C242.921 7.84 244.521 11.6 244.521 16C244.521 20.44 242.921 24.2 239.761 27.28C236.641 30.4 232.921 32 228.481 32C224.041 32 220.321 30.4 217.201 27.28C214.081 24.16 212.481 20.44 212.481 16C212.481 11.6 214.081 7.84 217.201 4.72C220.281 1.6 224.041 -4.76837e-07 228.481 -4.76837e-07ZM228.481 5.36C225.561 5.36 223.041 6.36 220.921 8.48C218.841 10.56 217.841 13.08 217.841 16C217.841 18.92 218.841 21.48 220.921 23.56C223.001 25.64 225.561 26.64 228.481 26.64C231.401 26.64 233.921 25.64 236.001 23.56C238.121 21.44 239.121 18.92 239.121 16C239.121 13.08 238.081 10.56 236.001 8.48C233.921 6.4 231.401 5.36 228.481 5.36ZM249.318 -4.76837e-07L259.398 20.04L256.398 26.04L243.358 -4.76837e-07H249.318ZM289.518 -4.76837e-07H295.478L279.478 32L269.398 11.96L272.398 5.96L279.478 20.04L289.518 -4.76837e-07ZM298.18 31.56L303.5 26.64H319.5V32H298.18V31.56ZM298.18 -4.76837e-07H319.5V5.36H303.5L298.18 -4.76837e-07ZM298.18 13.36H303.5H319.5V18.68H303.5H298.18V13.36ZM344.161 16.68C342.921 18.48 341.361 19.76 339.481 20.52L346.041 32H339.921L330.641 15.96L335.401 16C336.841 16 338.081 15.48 339.121 14.44C340.201 13.4 340.721 12.12 340.721 10.64C340.721 9.2 340.201 7.96 339.121 6.92C338.081 5.88 336.841 5.36 335.401 5.36H324.721L324.121 4.76L321.361 -4.76837e-07H335.401C338.321 -4.76837e-07 340.841 1.04 342.921 3.12C345.001 5.24 346.041 7.72 346.041 10.64C346.041 12.88 345.441 14.88 344.161 16.68Z" fill="white"/>
        </svg>
        <svg className={styles.short} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 347 32" fill="none">
          <path d="M0 7.44V-4.76837e-07L16.04 16L32.04 -4.76837e-07V32H26.76V12.88L16.04 23.56L0 7.44Z" fill="white"></path>
        </svg>
      </Link>
    </div>
  )
}

export default Logo